{"version":3,"sources":["phaser-plugins/juicy.js","../../.npm-global/lib/node_modules/parcel/src/builtins/hmr-runtime.js"],"names":["Phaser","Plugin","Juicy","game","call","_boundsCache","Utils","extend","world","bounds","_shakeWorldMax","_shakeWorldTime","_trailCounter","_overScales","_overScalesCounter","prototype","Object","create","constructor","ScreenFlash","color","bmd","add","bitmapData","width","height","ctx","fillStyle","fillRect","Sprite","alpha","flash","maxAlpha","duration","flashTween","tween","to","Easing","Bounce","InOut","onComplete","Trail","trailLength","Graphics","target","trailWidth","trailScaling","trailColor","_segments","_verts","_indices","update","x","y","addSegment","redrawSegments","segment","length","shift","Point","push","offsetX","offsetY","clear","s1","s2","vertIndex","offset","ang","sin","cos","prevAng","j","Math","atan2","PI","i","copyTo","k","beginFill","drawTriangles","endFill","shake","strength","setBounds","createScreenFlash","createTrail","overScale","object","scale","initialScale","id","scaleObj","cache","jelly","delay","Quadratic","Elastic","Out","mouseStretch","abs","input","activePointer","magnitude","rnd","integerInRange","camera","s","hasOwnProperty","time","elapsed","module","exports","drawTriangle","points","cull","triangle","Polygon","cameraToFace","ab","cb","faceNormal","cross","dot","drawPolygon","vertices","indices","point1","point2","point3","OVERLAY_ID","OldModule","bundle","Module","moduleName","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","JSON","parse","type","handled","assets","forEach","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","console","hmrApply","v","hmrAcceptRun","reload","close","onclose","log","removeErrorOverlay","error","message","stack","overlay","createErrorOverlay","document","body","appendChild","getElementById","remove","createElement","stackTrace","innerText","innerHTML","getParents","modules","parents","d","dep","Array","isArray","concat","Function","deps","cached","some"],"mappings":"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","file":"juicy.40c9e84d.js","sourceRoot":"..","sourcesContent":["'use strict';\n\n\n/**\n* @author       Jeremy Dowell <jeremy@codevinsky.com>\n* @license      {@link http://www.wtfpl.net/txt/copying/|WTFPL}\n*/\n\n/**\n* Creates a new `Juicy` object.\n*\n* @class Phaser.Plugin.Juicy\n* @constructor\n*\n* @param {Phaser.Game} game Current game instance.\n*/\nPhaser.Plugin.Juicy = function (game) {\n\n  Phaser.Plugin.call(this, game);\n\n  /**\n  * @property {Phaser.Rectangle} _boundsCache - A reference to the current world bounds.\n  * @private\n  */\n  this._boundsCache = Phaser.Utils.extend(false, {}, this.game.world.bounds);\n\n  /**\n  * @property {number} _shakeWorldMax - The maximum world shake radius\n  * @private\n  */\n  this._shakeWorldMax = 20;\n\n  /**\n  * @property {number} _shakeWorldTime - The maximum world shake time\n  * @private\n  */\n  this._shakeWorldTime = 0;\n\n  /**\n  * @property {number} _trailCounter - A count of how many trails we're tracking\n  * @private\n  */  \n  this._trailCounter = 0;\n\n  /**\n  * @property {object} _overScales - An object containing overscaling configurations\n  * @private\n  */  \n  this._overScales = {};\n\n  /**\n  * @property {number} _overScalesCounter - A count of how many overScales we're tracking\n  * @private\n  */  \n  this._overScalesCounter = 0;\n};\n\n\nPhaser.Plugin.Juicy.prototype = Object.create(Phaser.Plugin.prototype);\nPhaser.Plugin.Juicy.prototype.constructor = Phaser.Plugin.Juicy;\n\n\n\n/**\n* Creates a new `Juicy.ScreenFlash` object.\n*\n* @class Phaser.Plugin.Juicy.ScreenFlash\n* @constructor\n*\n* @param {Phaser.Game} game -  Current game instance.\n* @param {string} color='white' - The color to flash the screen.\n* @memberof Phaser.Plugin.Juicy\n*/\nPhaser.Plugin.Juicy.ScreenFlash = function(game, color) {\n  color = color || 'white';\n  var bmd = game.add.bitmapData(game.width, game.height);\n  bmd.ctx.fillStyle = 'white';\n  bmd.ctx.fillRect(0,0, game.width, game.height);\n\n  Phaser.Sprite.call(this, game, 0,0, bmd);\n  this.alpha = 0;\n};\n\nPhaser.Plugin.Juicy.ScreenFlash.prototype = Object.create(Phaser.Sprite.prototype);\nPhaser.Plugin.Juicy.ScreenFlash.prototype.constructor = Phaser.Plugin.Juicy.ScreenFlash;\n\n\n/*\n* Flashes the screen\n*\n* @param {number} [maxAlpha=1] - The maximum alpha to flash the screen to\n* @param {number} [duration=100] - The duration of the flash in milliseconds\n* @method Phaser.Plugin.Juicy.ScreenFlash.prototype.flash\n* @memberof Phaser.Plugin.Juicy.ScreenFlash\n*/\nPhaser.Plugin.Juicy.ScreenFlash.prototype.flash = function(maxAlpha, duration) {\n  maxAlpha = maxAlpha || 1;\n  duration = duration || 100;\n  var flashTween = this.game.add.tween(this).to({alpha: maxAlpha}, 100, Phaser.Easing.Bounce.InOut, true,0, 0, true);\n  flashTween.onComplete.add(function() {\n    this.alpha = 0;\n  }, this);\n};\n\n/**\n* Creates a new `Juicy.Trail` object.\n*\n* @class Phaser.Plugin.Juicy.Trail\n* @constructor\n*\n* @param {Phaser.Game} game -  Current game instance.\n* @param {number} [trailLength=100] - The length of the trail\n* @param {number} [color=0xFFFFFF] - The color of the trail\n* @memberof Phaser.Plugin.Juicy\n*/\nPhaser.Plugin.Juicy.Trail = function(game, trailLength, color) {\n  Phaser.Graphics.call(this, game, 0,0);\n  \n  /**\n  * @property {Phaser.Sprite} target - The target sprite whose movement we want to create the trail from\n  */\n  this.target = null;\n  /**\n  * @property {number} trailLength - The number of segments to use to create the trail\n  */\n  this.trailLength = trailLength || 100;\n  /**\n  * @property {number} trailWidth - The width of the trail\n  */\n  this.trailWidth = 15.0;\n\n  /**\n  * @property {boolean} trailScale - Whether or not to taper the trail towards the end\n  */\n  this.trailScaling = false;\n\n  /**\n  * @property {Phaser.Sprite} trailColor - The color of the trail\n  */\n  this.trailColor = color || 0xFFFFFF;\n  \n  /**\n  * @property {Array<Phaser.Point>} _segments - A historical collection of the previous position of the target\n  * @private\n  */\n  this._segments = [];\n  /**\n  * @property {Array<number>} _verts - A collection of vertices created from _segments\n  * @private\n  */\n  this._verts = [];\n  /**\n  * @property {Array<Phaser.Point>} _segments - A collection of indices created from _verts\n  * @private\n  */\n  this._indices = [];\n\n};\n\nPhaser.Plugin.Juicy.Trail.prototype = Object.create(Phaser.Graphics.prototype);\nPhaser.Plugin.Juicy.Trail.prototype.constructor = Phaser.Plugin.Juicy.Trail;\n\n/**\n* Updates the Trail if a target is set\n*\n* @method Phaser.Plugin.Juicy.Trail#update\n* @memberof Phaser.Plugin.Juicy.Trail\n*/\n\nPhaser.Plugin.Juicy.Trail.prototype.update = function() {\n  if(this.target) {\n    this.x = this.target.x;\n    this.y = this.target.y;\n    this.addSegment(this.target.x, this.target.y);\n    this.redrawSegments(this.target.x, this.target.y);\n  }\n};\n\n/**\n* Adds a segment to the segments list and culls the list if it is too long\n* \n* @param {number} [x] - The x position of the point\n* @param {number} [y] - The y position of the point\n* \n* @method Phaser.Plugin.Juicy.Trail#addSegment\n* @memberof Phaser.Plugin.Juicy.Trail\n*/\nPhaser.Plugin.Juicy.Trail.prototype.addSegment = function(x, y) {\n  var segment;\n\n  while(this._segments.length > this.trailLength) {\n    segment = this._segments.shift();\n  }\n  if(!segment) {\n    segment = new Phaser.Point();\n  }\n\n  segment.x = x;\n  segment.y = y;\n\n  this._segments.push(segment);\n};\n\n\n/**\n* Creates and draws the triangle trail from segments\n* \n* @param {number} [offsetX] - The x position of the object\n* @param {number} [offsetY] - The y position of the object\n* \n* @method Phaser.Plugin.Juicy.Trail#redrawSegment\n* @memberof Phaser.Plugin.Juicy.Trail\n*/\nPhaser.Plugin.Juicy.Trail.prototype.redrawSegments = function(offsetX, offsetY) {\n  this.clear();\n  var s1, // current segment\n      s2, // previous segment\n      vertIndex = 0, // keeps track of which vertex index we're at\n      offset, // temporary storage for amount to extend line outwards, bigger = wider\n      ang, //temporary storage of the inter-segment angles\n      sin = 0, // as above\n      cos = 0; // again as above\n\n  // first we make sure that the vertice list is the same length as we we want\n  // each segment (except the first) will create to vertices with two values each\n  if (this._verts.length !== (this._segments.length -1) * 4) {\n    // if it's not correct, we clear the entire list\n    this._verts = [];\n  }\n\n  // now we loop over all the segments, the list has the \"youngest\" segment at the end\n  var prevAng = 0;\n  \n  for(var j = 0; j < this._segments.length; ++j) {\n    // store the active segment for convenience\n    s1 = this._segments[j];\n\n    // if there's a previous segment, time to do some math\n    if(s2) {\n      // we calculate the angle between the two segments\n      // the result will be in radians, so adding half of pi will \"turn\" the angle 90 degrees\n      // that means we can use the sin and cos values to \"expand\" the line outwards\n      ang = Math.atan2(s1.y - s2.y, s1.x - s2.x) + Math.PI / 2;\n      sin = Math.sin(ang);\n      cos = Math.cos(ang);\n\n      // now it's time to creat ethe two vertices that will represent this pair of segments\n      // using a loop here is probably a bit overkill since it's only two iterations\n      for(var i = 0; i < 2; ++i) {\n        // this makes the first segment stand out to the \"left\" of the line\n        // annd the second to the right, changing that magic number at the end will alther the line width\n        offset = ( -0.5 + i / 1) * this.trailWidth;\n\n        // if trail scale effect is enabled, we scale down the offset as we move down the list\n        if(this.trailScaling) {\n          offset *= j / this._segments.length;\n        }\n\n        // finally we put to values in the vert list\n        // using the segment coordinates as a base we add the \"extended\" point\n        // offsetX and offsetY are used her to move the entire trail\n        this._verts[vertIndex++] = s1.x + cos * offset - offsetX;\n        this._verts[vertIndex++] = s1.y + sin * offset - offsetY;\n      }\n    }\n    // finally store the current segment as the previous segment and go for another round\n    s2 = s1.copyTo({});\n  }\n  // we need at least four vertices to draw something\n  if(this._verts.length >= 8) {\n    // now, we have a triangle \"strip\", but flash can't draw that without \n    // instructions for which vertices to connect, so it's time to make those\n    \n    // here, we loop over all the vertices and pair them together in triangles\n    // each group of four vertices forms two triangles\n    for(var k = 0; k < this._verts.length; k++) {\n      this._indices[k * 6 + 0] = k * 2 + 0;\n      this._indices[k * 6 + 1] = k * 2 + 1;\n      this._indices[k * 6 + 2] = k * 2 + 2;\n      this._indices[k * 6 + 3] = k * 2 + 1;\n      this._indices[k * 6 + 4] = k * 2 + 2;\n      this._indices[k * 6 + 5] = k * 2 + 3;\n    }\n    this.beginFill(this.trailColor);\n    this.drawTriangles(this._verts, this._indices);\n    this.endFill();\n    \n  }\n};\n\n\n\n\n\n\n/**\n* Add a Sprite reference to this Plugin.\n* All this plugin does is move the Sprite across the screen slowly.\n* @type {Phaser.Sprite}\n*/\n\n/**\n* Begins the screen shake effect\n* \n* @param {number} [duration=20] - The duration of the screen shake\n* @param {number} [strength=20] - The strength of the screen shake\n* \n* @method Phaser.Plugin.Juicy#redrawSegment\n* @memberof Phaser.Plugin.Juicy\n*/\nPhaser.Plugin.Juicy.prototype.shake = function (duration, strength) {\n  this._shakeWorldTime = duration || 20;\n  this._shakeWorldMax = strength || 20;\n  this.game.world.setBounds(this._boundsCache.x - this._shakeWorldMax, this._boundsCache.y - this._shakeWorldMax, this._boundsCache.width + this._shakeWorldMax, this._boundsCache.height + this._shakeWorldMax);\n};\n\n\n/**\n* Creates a 'Juicy.ScreenFlash' object\n*\n* @param {string} color - The color of the screen flash\n* \n* @type {Phaser.Plugin.Juicy.ScreenFlash}\n*/\n\nPhaser.Plugin.Juicy.prototype.createScreenFlash = function(color) {\n    return new Phaser.Plugin.Juicy.ScreenFlash(this.game, color);\n};\n\n\n/**\n* Creates a 'Juicy.Trail' object\n*\n* @param {number} length - The length of the trail\n* @param {number} color - The color of the trail\n* \n* @type {Phaser.Plugin.Juicy.Trail}\n*/\nPhaser.Plugin.Juicy.prototype.createTrail = function(length, color) {\n  return new Phaser.Plugin.Juicy.Trail(this.game, length, color);\n};\n\n\n/**\n* Creates the over scale effect on the given object\n*\n* @param {Phaser.Sprite} object - The object to over scale\n* @param {number} [scale=1.5] - The scale amount to overscale by\n* @param {Phaser.Point} [initialScale=new Phaser.Point(1,1)] - The initial scale of the object\n* \n*/\nPhaser.Plugin.Juicy.prototype.overScale = function(object, scale, initialScale) {\n  scale = scale || 1.5;\n  var id = this._overScalesCounter++;\n  initialScale = initialScale || new Phaser.Point(1,1);\n  var scaleObj = this._overScales[id];\n  if(!scaleObj) {\n    scaleObj = {\n      object: object,\n      cache: initialScale.copyTo({})\n    };\n  } \n  scaleObj.scale = scale;\n  \n  this._overScales[id] = scaleObj;\n};\n\n/**\n* Creates the jelly effect on the given object\n*\n* @param {Phaser.Sprite} object - The object to gelatinize\n* @param {number} [strength=0.2] - The strength of the effect\n* @param {number} [delay=0] - The delay of the snap-back tween. 50ms are automaticallly added to whatever the delay amount is.\n* @param {Phaser.Point} [initialScale=new Phaser.Point(1,1)] - The initial scale of the object\n* \n*/\nPhaser.Plugin.Juicy.prototype.jelly = function(object, strength, delay, initialScale) {\n  strength = strength || 0.2;\n  delay = delay || 0;\n  initialScale = initialScale ||  new Phaser.Point(1, 1);\n  \n  this.game.add.tween(object.scale).to({x: initialScale.x + (initialScale.x * strength)}, 50, Phaser.Easing.Quadratic.InOut, true, delay)\n  .to({x: initialScale.x}, 600, Phaser.Easing.Elastic.Out, true);\n\n  this.game.add.tween(object.scale).to({y: initialScale.y + (initialScale.y * strength)}, 50, Phaser.Easing.Quadratic.InOut, true, delay + 50)\n  .to({y: initialScale.y}, 600, Phaser.Easing.Elastic.Out, true);\n};\n\n/**\n* Creates the mouse stretch effect on the given object\n*\n* @param {Phaser.Sprite} object - The object to mouse stretch\n* @param {number} [strength=0.5] - The strength of the effect\n* @param {Phaser.Point} [initialScale=new Phaser.Point(1,1)] - The initial scale of the object\n* \n*/\nPhaser.Plugin.Juicy.prototype.mouseStretch = function(object, strength, initialScale) {\n    strength = strength || 0.5;\n    initialScale = initialScale || new Phaser.Point(1,1);\n    object.scale.x = initialScale.x + (Math.abs(object.x - this.game.input.activePointer.x) / 100) * strength;\n    object.scale.y = initialScale.y + (initialScale.y * strength) - (object.scale.x * strength);\n};\n\n/**\n* Runs the core update function and causes screen shake and overscaling effects to occur if they are queued to do so.\n*\n* @method Phaser.Plugin.Juicy#update\n* @memberof Phaser.Plugin.Juicy\n*/\nPhaser.Plugin.Juicy.prototype.update = function () {\n  var scaleObj;\n  // Screen Shake\n  if(this._shakeWorldTime > 0) { \n    var magnitude = (this._shakeWorldTime / this._shakeWorldMax) * this._shakeWorldMax;\n    var x = this.game.rnd.integerInRange(-magnitude, magnitude);\n    var y = this.game.rnd.integerInRange(-magnitude, magnitude);\n\n    this.game.camera.x = x;\n    this.game.camera.y = y;\n    this._shakeWorldTime--;\n    if(this._shakeWorldTime <= 0) {\n      this.game.world.setBounds(this._boundsCache.x, this._boundsCache.x, this._boundsCache.width, this._boundsCache.height);\n    }\n  }\n\n  // over scales\n  for(var s in this._overScales) {\n    if(this._overScales.hasOwnProperty(s)) {\n      scaleObj = this._overScales[s];\n      if(scaleObj.scale > 0.01) {\n        scaleObj.object.scale.x = scaleObj.scale * scaleObj.cache.x;\n        scaleObj.object.scale.y = scaleObj.scale * scaleObj.cache.y;\n        scaleObj.scale -= this.game.time.elapsed * scaleObj.scale * 0.35;\n      } else {\n        scaleObj.object.scale.x = scaleObj.cache.x;\n        scaleObj.object.scale.y = scaleObj.cache.y;\n        delete this._overScales[s];\n      }\n    }\n  }\n};\n\n// for browserify compatibility\nif(module && module.exports) {\n  module.exports = Phaser.Plugin.Juicy;\n}\n\n\n\n// Draw Triangles Polyfill for back compatibility\nif(!Phaser.Graphics.prototype.drawTriangle) {\n  Phaser.Graphics.prototype.drawTriangle = function(points, cull) {\n      var triangle = new Phaser.Polygon(points);\n      if (cull) {\n          var cameraToFace = new Phaser.Point(this.game.camera.x - points[0].x, this.game.camera.y - points[0].y);\n          var ab = new Phaser.Point(points[1].x - points[0].x, points[1].y - points[0].y);\n          var cb = new Phaser.Point(points[1].x - points[2].x, points[1].y - points[2].y);\n          var faceNormal = cb.cross(ab);\n          if (cameraToFace.dot(faceNormal) > 0) {\n              this.drawPolygon(triangle);\n          }\n      } else {\n          this.drawPolygon(triangle);\n      }\n      return;\n  };\n\n  /*\n  * Draws {Phaser.Polygon} triangles \n  *\n  * @param {Array<Phaser.Point>|Array<number>} vertices - An array of Phaser.Points or numbers that make up the vertices of the triangles\n  * @param {Array<number>} {indices=null} - An array of numbers that describe what order to draw the vertices in\n  * @param {boolean} [cull=false] - Should we check if the triangle is back-facing\n  * @method Phaser.Graphics.prototype.drawTriangles\n  */\n\n  Phaser.Graphics.prototype.drawTriangles = function(vertices, indices, cull) {\n\n      var point1 = new Phaser.Point(),\n          point2 = new Phaser.Point(),\n          point3 = new Phaser.Point(),\n          points = [],\n          i;\n\n      if (!indices) {\n          if(vertices[0] instanceof Phaser.Point) {\n              for(i = 0; i < vertices.length / 3; i++) {\n                  this.drawTriangle([vertices[i * 3], vertices[i * 3 + 1], vertices[i * 3 + 2]], cull);\n              }\n          } else {\n              for (i = 0; i < vertices.length / 6; i++) {\n                  point1.x = vertices[i * 6 + 0];\n                  point1.y = vertices[i * 6 + 1];\n                  point2.x = vertices[i * 6 + 2];\n                  point2.y = vertices[i * 6 + 3];\n                  point3.x = vertices[i * 6 + 4];\n                  point3.y = vertices[i * 6 + 5];\n                  this.drawTriangle([point1, point2, point3], cull);\n              }\n\n          }\n      } else {\n          if(vertices[0] instanceof Phaser.Point) {\n              for(i = 0; i < indices.length /3; i++) {\n                  points.push(vertices[indices[i * 3 ]]);\n                  points.push(vertices[indices[i * 3 + 1]]);\n                  points.push(vertices[indices[i * 3 + 2]]);\n                  if(points.length === 3) {\n                      this.drawTriangle(points, cull);    \n                      points = [];\n                  }\n                  \n              }\n          } else {\n              for (i = 0; i < indices.length; i++) {\n                  point1.x = vertices[indices[i] * 2];\n                  point1.y = vertices[indices[i] * 2 + 1];\n                  points.push(point1.copyTo({}));\n                  if (points.length === 3) {\n                      this.drawTriangle(points, cull);\n                      points = [];\n                  }\n              }\n          }\n      }\n  };\n}","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] âœ¨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] ðŸš¨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">ðŸš¨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}